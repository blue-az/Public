<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Planning | Recipes</title>
    <meta name="description" content="Create meal plans, generate shopping lists, and track inventory.">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <div class="header-top">
            <a href="https://proto.efehnconsulting.com/project-phoenix/">Part of Project Phoenix - tau-bench Domain</a>
        </div>
        <div class="header-main">
            <a href="index.html" class="logo">
                <span class="logo-icon">&#127869;</span>
                <span class="logo-text">Recipes</span>
            </a>
            <nav class="header-nav">
                <a href="index.html">Home</a>
                <a href="categories.html">Categories</a>
                <a href="tools.html">Tools</a>
                <a href="meal-planning.html" class="active">Meal Planning</a>
                <a href="data.html">Data Model</a>
                <a href="variations.html">Variations</a>
            </nav>
        </div>
    </header>

    <div class="hero">
        <h1>Meal Planning</h1>
        <p class="subtitle">Plan Meals, Generate Shopping Lists, Track Inventory</p>
    </div>

    <main class="main-container">
        <section class="section">
            <h2>Planning Workflow</h2>
            <p>The Recipes domain supports a complete meal planning workflow from recipe selection to grocery ordering.</p>

            <div class="recipes-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                <div class="stat-card">
                    <div class="number">1</div>
                    <div class="label">Select Recipes</div>
                </div>
                <div class="stat-card">
                    <div class="number">2</div>
                    <div class="label">Create Plan</div>
                </div>
                <div class="stat-card">
                    <div class="number">3</div>
                    <div class="label">Generate List</div>
                </div>
                <div class="stat-card">
                    <div class="number">4</div>
                    <div class="label">Check Inventory</div>
                </div>
                <div class="stat-card">
                    <div class="number">5</div>
                    <div class="label">Place Order</div>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Household Management</h2>
            <p>The domain supports multi-household management with individual member profiles.</p>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Households</td>
                        <td>Group users into households for shared meal planning</td>
                    </tr>
                    <tr>
                        <td>Members</td>
                        <td>Individual profiles with nutrition targets and dietary restrictions</td>
                    </tr>
                    <tr>
                        <td>Nutrition Targets</td>
                        <td>Track calories, protein, and activity levels per member</td>
                    </tr>
                    <tr>
                        <td>Allergies</td>
                        <td>Flag members with allergies (e.g., peanut-free requirements)</td>
                    </tr>
                    <tr>
                        <td>Child Modifications</td>
                        <td>Automatic suggestions for child-friendly recipe adjustments</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="section">
            <h2>Grocery List Features</h2>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Auto-Generation</td>
                        <td>Generate shopping list from meal plan recipes</td>
                    </tr>
                    <tr>
                        <td>Ingredient Aggregation</td>
                        <td>Combine quantities across recipes</td>
                    </tr>
                    <tr>
                        <td>Section Categorization</td>
                        <td>Organize by grocery store section (Produce, Dairy, etc.)</td>
                    </tr>
                    <tr>
                        <td>Pantry Staples</td>
                        <td>Flag common staples you may already have</td>
                    </tr>
                    <tr>
                        <td>Overlap Detection</td>
                        <td>Highlight items used in recent meal plans</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="section">
            <h2>Store Integration</h2>
            <p>Check availability and place orders at configured stores.</p>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Inventory Check</td>
                        <td>Verify item availability at store</td>
                    </tr>
                    <tr>
                        <td>Price Comparison</td>
                        <td>Find lowest-price products for each ingredient</td>
                    </tr>
                    <tr>
                        <td>Substitutions</td>
                        <td>Propose in-stock alternatives for unavailable items</td>
                    </tr>
                    <tr>
                        <td>Order Creation</td>
                        <td>Create orders with scheduled delivery slots</td>
                    </tr>
                    <tr>
                        <td>Order Tracking</td>
                        <td>Track order status (placed, delivered)</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="section">
            <h2>Example Workflow</h2>
            <div class="code-block">
<span class="comment"># 1. Get member nutrition targets</span>
targets = get_member_targets(member_id=<span class="string">1</span>)

<span class="comment"># 2. Build recipe filters</span>
filters = build_recipe_filters(
    meal_type=<span class="string">"Dinner"</span>,
    min_protein_g=<span class="string">20</span>,
    peanut_free=<span class="string">True</span>
)

<span class="comment"># 3. Get matching recipes</span>
candidates = list_recipes_by_filters(filters)

<span class="comment"># 4. Exclude recently cooked</span>
recent = list_recent_meal_history(household_id=<span class="string">1</span>, days_back=<span class="string">14</span>)
filtered = exclude_recipe_ids(candidates, recent)

<span class="comment"># 5. Rank by nutrition targets</span>
selected = rank_recipes_for_targets(filtered, needed_count=<span class="string">7</span>, ...)

<span class="comment"># 6. Create meal plan</span>
plan_id = create_meal_plan(household_id=<span class="string">1</span>, week_start_date=<span class="string">"2025-01-13"</span>)
bulk_add_meal_plan_entries(plan_id, selected)

<span class="comment"># 7. Generate grocery list</span>
list_id = create_empty_grocery_list(household_id=<span class="string">1</span>)
upsert_grocery_list_items_from_recipes(list_id, selected)

<span class="comment"># 8. Check store and order</span>
check_store_inventory_for_list(list_id, store_id=<span class="string">1</span>)
order_id = create_order_from_list(...)
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div>
                <h4>Recipes Domain</h4>
                <a href="index.html">Home</a>
                <a href="categories.html">Browse Recipes</a>
                <a href="tools.html">Tool Registry</a>
            </div>
            <div>
                <h4>Resources</h4>
                <a href="data.html">Data Model</a>
                <a href="variations.html">Variations</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>Recipes Domain - Project Phoenix | Built on tau-bench (MIT License)</p>
        </div>
    </footer>
</body>
</html>
